<!DOCTYPE html><!-- (C) oekobox-online.eu 2016. Free for use with oekobox-online services -->
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="app.css" rel="stylesheet" type="text/css"/>
        <script>
            function loadTestData() {
                var data = [
                    ["firstname", "Lattika"], ["name", "O'Broccoli"],
                    ["email", "latty@broccoli-family.in"], ["emailCHECK", "latty@broccoli-family.in"],
                    ["passwd", "supermaggy"], ["passwdCHECK", "supermaggy"],
                    ["phone", "0049 351 27359579"], ["place", "look for a cool dry place on the roof please"],
                    ["IBAN", "DE12500105170648489890"]
                ];
                for (var i = 0; i < data.length; i++) {
                    document.getElementById("oo-profile-" + data[i][0]).value = data[i][1];
                }
                return false;
            }
        </script>
    </head>
    <body>
        <div class="header">
            <div class="oo-loading" style="display: none"></div>
            <div id="oo-status" data-oo-shop-page="shop.html" data-oo-logon-page="logon.html" data-oo-profile-page="profile.html" data-oo-date-page="date.html" data-oo-cart-page="cart.html"></div>
        </div>

        <h2>Profilseite</h2>
        <h1>NoDesign@<span class="oo-system-title"></span></h1>
        <div id="oo-flash" ></div>
        <div id="pagecontent">
            <a href="shop.html" title="Beispiel-Link als alternative zur Navi-Komponente hier" style="margin: 5px; display: inline-block">Weiter Shoppen...</a>
            <div id="oo-profile" data-oo-shop-page="shop.html" data-oo-logon-page="logon.html" data-oo-cart-page="cart.html"></div>
            <a class="oo-state-located testinghelp" href="#" onclick="loadTestData();" id="">Formular mit Testdaten füllen</a>

            <div class="hints">
                Hinweise zur Profil-Komponente
                <ul>
                    <li>Die Komponente implementiert 1. die Tourauswahl (im Status anon), 2. die Neuanmeldung (im Status located) sowie 3. das Einstellen von Kunden-Daten (im Status auth)
                        Aktueller Status:
                        <span class="oo-state-auth">Angemeldeer Kunde</span>
                        <span class="oo-state-located">Besucher mit Tourzuweisung</span>
                        <span class="oo-state-anon">unbekannter Besucher</span>
                    </li>
                    <li>Nach der Anmeldung muss zu einer anderen Seite verzweigt werden; deshalb ist die Angabe von <i>data-oo-shop-page="shop.html"</i> zwingend.
                    <li> Die Komponente kann auch auf mehreren Seiten eingebaut werden; typischerweise braucht man sie da nur ein einem bestimmten Status. Dies kann durch
                    Wrappen in einem div.oo-state-XXX erfolgen. Die data-Attribute zur Konfiguration sollten dann expizit angegeben werden (und nicht zentral vom app.js verwendet werden) </li>
                    <li>Zur Adressabfrage (bei der Neuanmeldung) wird hier der Computer "befragt" - daher die Abfrage des Browser, ob die aktuelle ausgegeben werden darf. </li>
                    <li>Die (richtige) Zuordnung zu Neukunden erfordert Einstellungen im PCG (an den Touren) und im Admin-Bereich des Shops (für den Zuordnungs-Algorhitmus). </li>
                </ul>
                Noch zu bauen:
                <ul>
                    <li>Profil-Abteilungen im auth State (sind dort in englisch angedeutet)</li>
                    <li>Email Exists-Validierung bei Neukundenanmeldung und Änderung</li>
                    <li>paypal email backend</li>
                    <li>einige stärkere Validierungen</li>
                    <li>Übergabe der Abstellinformationen an den PCG</li>
                    <li>Lieferadresse (inkl. backend)</li>
                    <li>Erneute Address-Änderungen im located oder auth state müssen erneut durch die Tourfindung laufen </li>
                    <li>evtl. Persistenz der Eingaben wenn beim Registrieren abgebrochen wird.</li>
                    <li>Korrektur Änderungs-Email, mit Zeitversatz</li>
                </ul>
            </div>

            <div class="oo-ticker" data-oo-ticker-data="Group:123" data-oo-ticker-speed="8" data-oo-shop-page="shop.html"></div>
        </div>

        <!-- replace this call with an url like https://oekobox-online.eu/v3/shop/<shopname>api/client.js -->
        <script src="../../api/client.js"></script>

    </body>
</html>
